(function(b){var a="File format is not valid.";b.importIterate=function(c){var d=b.$;return d.each(c,function(g,f){if(f.inputs!=null&&d.grep(f.inputs,function(h){return h.type!=null&&h.type=="password"}).length<=0){d.each(f.inputs,function(k,h){if(h.name!=null&&(/pass/i.test(h.name)||/pwd/i.test(h.name))){h.type="password"}})}if(f.inputs!=null&&d.grep(f.inputs,function(h){return h.type!=null&&h.type=="password"}).length<=0){var e=d.grep(f.inputs,function(h){return h.type==null||(h.type!="radio"&&h.type!="checkbox")});if(e.length<=1){e[0].type="password"}else{if(e.length<=2){e[0].type="text";e[1].type="password"}}}}).sort(function(h,f){var g,e;if(((g=(h.type||""))!=(e=(f.type||"")))||((g=(h.name||h.title||h.url||"").toLowerCase())!=(e=(f.name||f.title||f.url||"").toLowerCase()))){return g>e?1:-1}return 0})};b.importParser={logmeonce:function(n,g){var s,l,r;var d,q;var h=b.translate;if(n.length<=10||n.substring(0,9)!="logmeonce"){throw (a)}if(n.length>=12&&n.substring(9,11)=="v2"){d=n.substring(12);if(n.charCodeAt(11)&1){if(g==null||g.passphrase==null||g.passphrase.length<=0){throw h.sprintf(h._("%s is empty"),h._("Passphrase"))+"."}q=g.passphrase}else{if(n.charCodeAt(11)&2){if(g==null||g.key==null||g.key.length<=0){throw h.sprintf(h._("%s is empty"),"Key")+"."}q=r=g.key}}}else{if(g==null||g.passphrase==null||g.passphrase.length<=0){throw h.sprintf(h._("%s is empty"),h._("Passphrase"))+"."}d=n.substring(9);q=g.passphrase}try{s=b.tools.decrypt(d,q);l=JSON.parse(s);if(typeof r=="undefined"){r=b.tools.decrypt(l.key,g.passphrase)}}catch(p){throw h._("Decryption failed")}var f=[];for(var m=0;m<l.sites.length;m++){var c=l.sites[m];if(c.login!=null&&c.login.inputs!=null&&c.login.inputs.length>0){var o=0;for(var k=0;k<c.login.inputs.length;k++){if(c.login.inputs[k].value!=null&&c.login.inputs[k].value.length>0){try{c.login.inputs[k].value=b.tools.decrypt(c.login.inputs[k].value,c.key!=null?b.tools.decrypt(c.key,r):r);o++}catch(p){}}}if(o>0){c.login["import"]=c.id;c.login.name=c.name;f.push(c.login)}}}return f},stickyPassword:function(p){var d="";for(var k=0;k<p.length;k++){if(p.charCodeAt(k)!==0&&p.charCodeAt(k)!==255&&p.charCodeAt(k)!==254){d+=p[k]}}p=d;var m=p.split(/My\sAccounts/i);var f=[];for(var k=0;k<m.length;k++){if(m[k]==""){continue}var o=m[k].split(/Account\sname\:\s*/i);for(var g=0;g<o.length;g++){if(o[g]==""||(/^\s+$/).test(o[g])){continue}var e=o[g].match(/^(.*)\s*Link/i);var c=o[g].match(/Link:\s*(.*)\s*Login/i);var l=o[g].match(/Login:\s*(.*)\s*Password/i);var n=o[g].match(/Password:\s*(.*)\s?/i);if(e!=null&&c!=null&&l!=null&&n!=null){c[1]=this.filterLineVar(c[1]);e[1]=this.filterLineVar(e[1]);l[1]=this.filterLineVar(l[1]);n[1]=this.filterLineVar(n[1]);var h={url:c[1],name:e[1],inputs:[{type:"text",value:l[1]},{type:"password",value:n[1]}]};f.push(h)}}}return f},roboform:function(c){return c.slice(0,2)=="\xFE\xFF"||c.slice(0,2)=="\xFF\xFE"||c.slice(0,3)=="\xEF\xBB\xBF"?this.roboformHtml(c):this.roboformCsv(c)},roboformCsv:function(e){var d=b.$;var g=["Name","Url","Login","Pwd","Note","Folder","Rf_fields"];var f=this.readUTFString(e);var c=Papa.parse(f,{skipEmptyLines:true});if(c.errors.length>0){throw a+" "+c.errors[0].message+" (row "+c.errors[0].row+")"}if(c.data.length<=2||d.grep(c.data[0],function(h){return d.inArray(h.trim(),g)>=0})<g.length){throw a}return d.map(c.data.splice(1),function(j){var h=[{type:"text",value:j[2]},{type:"password",value:j[3]}];d.each(j.splice(6),function(o,l){var k;if((k=l.match(/^(.*):(.*):(.*)$/))!=null&&k.length==4){if(o<2&&k[3]==h[o].value){h[o].name=/^(User ID(.)|Password(.))$/.test(k[1])?null:k[1]}else{if(o>=2&&d.inArray(k[2],["txt","pwd","chk"])>=0){var n={txt:"text",pwd:"password",chk:"checkbox"};var l={name:k[1],type:n[k[2]],value:k[3]};if(l.type=="checkbox"){l.flags=l.value=="*"?16:0,l.value=null}h.push(l)}}}});return{url:j[1],name:j[0],note:j[4],inputs:h}})},roboformHtml:function(h){var j=b.$;var m=this.readUTFString(h);var k=j(m);var d={type:"Credit Card",map:{name:"Card User Name",number:"Card Number",month:{name:"Card Expires",process:["split/0","int"]},year:{name:"Card Expires",process:["split/1","int"]},code:"Validation Code",issuer:"Issuing Bank",type:"Card Type"}};var c=this.mapping;var n=k.filter("table").length>0?k.filter("table"):j("table",k);n=n.filter(function(){return j("table",this).length<=0});if(n.length<=0){throw a}function e(o){return o.replace(/\u00AD/g,"")}function l(o){return e(o.lastIndexOf("\\")>0?o.substring(o.lastIndexOf("\\")+1):o)}var f=j.map(n,function(y){var A=j("tr",y);var t=j("td.field",y);if(t.length==A.length-1&&t.filter(function(){return j(this).siblings("td").length>0}).length==0){var z=j(".caption",y).filter(function(){return j(this).children().size()===0});var u={type:"note",title:l(z.text()),body:e(t.text())};return z.length>0||t.length>0?u:null}else{if(t.length>1&&j(".idsubcaption",y).length===1){var w=j(".idsubcaption",y).text();var z=j(y).parents().filter(function(){return j(this).prev(".caption").length>0}).prev(".caption").text();var u={type:"note",title:e(z+" - "+w)};var q,x={};t.filter(function(){return j(this).is("td.field:first-child")}).each(function(){var B=e(j(this).text());var C=e(j(this).parent().find("td:last").text());if(B=="Note"){u.body=C}else{x[B]=C}});if(w.indexOf(d.type)===0&&(q=c(x,d.map)).length>0){u.type="credit-card";u.category=5;u.attributes=q.mapped}else{u.attributes=x}return u}else{if(t.length>0){var z=j(".caption",y);var p=j(".subcaption",y);if(z.length<=0&&j(y).parents("table").length>0){z=j(y).parents("table").find(".caption")}var o={name:l(z.text()),url:e(p.text())};var s=t.filter(function(){return j(this).siblings("td").length>1&&j(this).is("td.field:first-child")});o.inputs=s.map(function(C){var B={name:j(this).text()!="-no-name-"?e(j(this).text()):null,type:null,value:e(j(this).parent().find("td:last").text())};if(B.name!=null&&/^User ID(.)$/.test(B.name)){B.type="text";B.name=null}if(B.name!=null&&/^Password(.)$/.test(B.name)){B.type="password";B.name=null}if(B.type==null&&j.inArray(B.value,"0","*")>=0&&C>=2){B.type="checkbox";B.flags=B.value=="*"?16:0;B.value=null}return B}).toArray();var r=t.filter(function(){return j(this).siblings("td").length<=1});r.each(function(C){var B=e(j(this).text());if(/^Note(.)$/.test(B)&&C+1==r.length-1){o.note=e(r.eq(C+1).html().replace(/<br\s*\/?>/ig,"\n"))}});if(o.inputs.length>0){return o}}}}});var g=true;j(f).each(function(p,o){j(o.inputs).each(function(r,q){if(q.name!=null&&q.name.length>0){return g=q.name.indexOf(":",q.name.length-1)!==-1}});return g});if(g){j(f).each(function(p,o){j(o.inputs).each(function(r,q){if(q.name!=null&&q.name.length>0&&q.name.indexOf(":",q.name.length-1)!==-1){q.name=q.name.substring(0,q.name.length-1)}})})}return f},ewallet:function(g){var f=b.$;var h=this.readUTFString(g);var d=[];var c=[];var e=null;f.each(h.split(new RegExp("[\r\n][\r\n]*")),function(k,j){if((e=j.match(/^Category:\s(.*)/i))!=null&&e.length>0){c.push({name:e[1],text:""})}else{if(c.length>0){c[c.length-1].text+=j+"\n"}}});f.each(c,function(k,l){var j={inputs:[]};f.each(l.text.split(new RegExp("[\r\n][\r\n]*")),function(n,m){if((e=m.match(/^Card\s(.*)/i))!=null&&e.length>0){if(j.inputs.length>0){d.push(j)}j={name:e[1],inputs:[]}}else{if((e=m.match(/^Site\sName\s(.*)/))!=null&&e.length>0){j.name+=" - "+e[1]}else{if((e=m.match(/^URL\s(.*)/))!=null&&e.length>0){j.url=e[1]}else{if((e=m.match(/^User\sName\s(.*)/))!=null&&e.length>0){j.inputs.push({type:"text",value:e[1]})}else{if((e=m.match(/^Password\s(.*)/))!=null&&e.length>0){j.inputs.push({type:"password",value:e[1]})}}}}}});if(j.inputs.length>0){d.push(j)}});return d},clipperz:function(j){var h=b.$;var d=[];var c="type";if(/<[a-z][\s\S]*>/i.test(j)){c="actionType";var g="";var k=this.readUTF8String(j);for(var f=0;f<k.length;f++){if(k.charCodeAt(f)!==0){g+=k[f]}}g=b.browser.type=="mozilla"?h(g,content.document):g;if(h(g).find("textarea").length<=0){throw a}else{j=h(g).find("textarea").text()}j=j.replace(/&quot;/g,'"');j=j.replace(/î€‰/g,"")}var e=JSON.parse(j);h.each(e,function(n,m){var l={name:m.label,inputs:[]};h.each(m.currentVersion.fields,function(o,p){switch(c=="type"?p.type:p.actionType){case"URL":l.url=p.value;break;case"EMAIL":case"TXT":l.inputs.push({type:"text",value:p.value});break;case"PASSWORD":case"PWD":l.inputs.push({type:"password",value:p.value});break}});if(l.inputs.length>0){d.push(l)}});return d},lastpass:function(c){return c[0]=="{"?this.lastpassJson(c):this.lastpassCsv(c)},lastpassNote:function(f,g){var k=new RegExp("^(.*):(.*)$","img");var j={0:"Social Security",3:"Wi-Fi Password",4:"Membership",5:"Credit Card",8:"Software License",14:"Bank Account",15:"Driver's License",16:"Health Insurance",17:"Passport",18:"Email Account"};var e={category:5,map:{name:"Name on Card",type:"Type",number:"Number",month:{name:"Expiration Date",process:["split,0","monthText"]},year:{name:"Expiration Date",process:["split,1","int"]},code:"Security Code",}};var c=this.mapping;var l={type:"note",title:f},h,d,m={};if((h=k.exec(g))!=null){while(h!=null){if(h[1]=="Notes"){l.body=h[2]}else{m[h[1]]=h[2]}h=k.exec(g)}$.each(j,function(o,n){if(m.NoteType===n){delete m.NoteType;l.category=parseInt(o)}});if(l.category==e.category&&(d=c(m,e.map)).length>0){l.type="credit-card";l.attributes=d.mapped}else{l.attributes=m}}else{l.body=g}return l},lastpassJson:function(h){var e=typeof h==="string"?JSON.parse(h):h;var f=this;var g=e.accounts;if(typeof e.accounts!=="object"){throw a}var j=$.map($.grep(g,function(k){return k.url!=="http://sn"&&k.url!=="http://group"}),function(k){return{url:k.url!="http://"?k.url:null,name:k.name,note:k.notes.length>0?k.notes:null,group:k.group.length>0?k.group:null,inputs:[{type:"text",value:k.username},{type:"password",value:k.password}]}});var d=$.map($.grep(g,function(k){return k.url==="http://sn"}),function(k){return f.lastpassNote(k.name,k.notes)});var c=$.map($.grep(g,function(k){return k.url==="http://group"}),function(k){return{type:"group",name:k.group}});return[].concat(j,d,c)},lastpassCsv:function(e){var f=b.$;var h=this;var l=this.readUTFString(e);var g=["url","username","password","extra","name","grouping","fav"];var d=Papa.parse(l,{delimiter:",",header:true,skipEmptyLines:true});if(d.errors.length>0){throw a+" "+d.errors[0].message+" (row "+d.errors[0].row+")"}if(f.grep(d.meta.fields,function(m){return f.inArray(m.trim(),g)>=0})<g.length){throw a}var k=f.map(f.grep(d.data,function(m){return m.url!=="http://sn"}),function(m){return{url:m.url!="http://"?m.url:null,name:m.name,note:m.extra.length>0?m.extra:null,group:m.grouping.length>0?m.grouping:null,inputs:[{type:"text",value:m.username},{type:"password",value:m.password}]}});var j=f.map(f.grep(d.data,function(m){return m.url==="http://sn"}),function(m){return h.lastpassNote(m.name,m.extra)});var c=[];f.each(k,function(n,m){if(m.group!=null&&f.grep(c,function(o){return o.name==m.group}).length<=0){c.push({type:"group",name:m.group})}});return[].concat(k,j,c)},lastpassAccts:function(k,s){var x=s.key;var w=window.atob(k);var t={pos:0,length:w.length};var l={accounts:[]};function d(C,D){var B=C.charCodeAt(D.pos++)&255;var A=C.charCodeAt(D.pos++)&255;var F=C.charCodeAt(D.pos++)&255;var E=C.charCodeAt(D.pos++)&255;return(B<<24)|(A<<16)|(F<<8)|E}function u(B,C){var A=d(B,C);return B.slice(C.pos,C.pos+=A)}function y(D,G){var I=u(D,G);if(I.length<=32||I[0]!=="!"){return I}var H=0,A=I.length;var C=I.slice(1,17);var B=sjcl.codec.string.toBits(C);var E=I.slice(17,A);var F=sjcl.codec.string.toBits(E);try{var K=new sjcl.cipher.aes(x);var J=sjcl.mode.cbc.decrypt(K,F,B);return sjcl.codec.string.fromBits(J)}catch(G){return""}}function g(A){var B="";for(var e=0;e<A.length;e+=2){B+=String.fromCharCode(parseInt(A.substring(e,e+2),16))}return B}while(t.pos<t.length){var q=w.slice(t.pos,t.pos+=4);var r=u(w,t);if(q==="ACCT"){var m={pos:0};var q=u(r,m);var z=y(r,m);var j=y(r,m);var h=u(r,m);var n=y(r,m);var p=u(r,m);var o=u(r,m);var f=y(r,m);var c=y(r,m);l.accounts.push({id:q,name:z,group:j,url:g(h),notes:n,username:f,password:c})}}return this.lastpassJson(l)},norton:function(g){var f=b.$;var j=this.readUTFString(g);var e=Papa.parse(j,{header:true,skipEmptyLines:true});if(e.errors.length>0){throw a+" "+e.errors[0].message+" (row "+e.errors[0].row+")"}var h=["url","username","password","name","grouping","extra"];if(e.meta.fields.length!=6){throw (a)}for(i=0;i<6;i++){if(this.strTrim(e.meta.fields[i])!=h[i]){throw (a)}}var d=[];var c=e.data;f.each(c,function(l,k){if(k.url!="http://sn"){d.push({url:k.url,name:k.name,inputs:[{type:"text",value:k.username},{type:"password",value:k.password}]})}});return d},dashlane:function(g){var f=b.$;var j=0;try{var d=JSON.parse(g);var j=0;if(!f.isArray(d.AUTHENTIFIANT)&&!f.isArray(d.PAYMENTMEANS_CREDITCARD)){throw a}return[].concat(f.map(d.AUTHENTIFIANT,function(l){var e=[];e.push({type:"text",flags:2,value:l.login});l.secondaryLogin!=null&&l.secondaryLogin.length>0&&e.push({type:"text",value:l.secondaryLogin});e.push({type:"password",flags:4,value:l.password});return{url:l.domain,name:l.title,note:l.note!=null&&l.note.length>0?l.note:null,inputs:e}}),f.map(d.PAYMENTMEANS_CREDITCARD,function(e){return{type:"note",category:5,title:"Credit card #"+(++j),attributes:{name:e.owner,number:e.cardNumber,issuer:e.bank}}}))}catch(h){}var k=this.readUTFString(g);var c=Papa.parse(k,{skipEmptyLines:true});var j=0;if(c.errors.length>0){throw a+" "+c.errors[0].message+" (row "+c.errors[0].row+")"}return f.map(c.data,function(l,e){if(l.length==3&&!isNaN(l[2])){return{type:"note",category:5,title:"Credit card #"+(++j),attributes:{name:l[1],number:l[2],issuer:l[0]}}}if(l.length==7){return{url:l[1],name:l[0],note:l[4].length>0?l[4]:null,inputs:[{type:"text",value:l[2].length>0?l[2]:l[3]},{type:"password",value:l[5]}]}}})},keeper:function(g){var f=b.$;var h=this.readUTFString(g);var e=Papa.parse(h,{skipEmptyLines:true});if(e.errors.length>0){throw a+" "+e.errors[0].message+" (row "+e.errors[0].row+")"}var d=[];var c=e.data;f.each(c,function(k,j){if(j[4]!=""&&j[3]!=""&&j[2]!=""){d.push({url:j[4],name:j[1],inputs:[{type:"text",value:j[2]},{type:"password",value:j[3]}]})}});return d},zoho:function(g){var f=b.$;var h=this.readUTFString(g);var e=Papa.parse(h,{skipEmptyLines:true});if(e.errors.length>0){throw a+" "+e.errors[0].message+" (row "+e.errors[0].row+")"}var d=[];var c=e.data;var j=this;f.each(c,function(n,k){if(k.length==11&&k[3]!="SecretData"&&k[3]!=""&&k[2]!="Secret URL"&&k[2]!=""){var p=k[3].split(":");var l=p[1].replace("User Name","");l=j.strTrim(l.replace(/(\r\n|\n|\r)/gm,""));var o=j.strTrim((p[2].replace("Password","")));o=o.replace(/(\r\n|\n|\r)/gm,"");var m=j.strTrim(p[3]);m=m.replace(/(\r\n|\n|\r)/gm,"");if(l=="Web Account"){d.push({url:k[2],inputs:[{type:"text",value:o},{type:"password",value:m}]})}}});return d},passpack:function(m){var e=this.parse_param(),o=e[0],p=e[1],k=e[2];var s=m.replace(o,"").split(p),g=[];var g=[];if(s.length){for(var n=0,f=s.length;n<f;n++){var r=k(s[n]);if(r.length==7){var d=this.filterLineVar(r[3]);var c=this.filterLineVar(r[0]);var j=this.filterLineVar(r[1]);var q=this.filterLineVar(r[2]);if(d!="Link"&&c!="Name"&&j!="User ID"&&q!="Password"){var h={url:d,name:c,inputs:[{type:"text",value:j},{type:"password",value:q}]};g.push(h)}}else{throw (a)}}return g}else{throw (a)}},onepassword:function(f){var e=b.$;var j=this.readUTFString(f);var d=Papa.parse(j,{header:true,skipEmptyLines:true});if(d.errors.length>0){throw a+" "+d.errors[0].message+" (row "+d.errors[0].row+")"}var h=["title","notes","username","password","url"];var c=e.grep(d.meta.fields,function(k){return e.inArray(k.toLowerCase().trim(),h)>=0});if(c.length<h.length){throw a}var g=[];e.each(d.data,function(k,l){e.each(l,function(m,n){l[m.toLowerCase().trim()]=n});g.push({url:l.url,name:l.title,inputs:[{type:"text",value:l.username},{type:"password",value:l.password}]})});return g},passwordBoss:function(g){var f=b.$;var j=this.readUTFString(g);var e=Papa.parse(j,{header:true,skipEmptyLines:true});if(e.errors.length>0){throw a+" "+e.errors[0].message+" (row "+e.errors[0].row+")"}var h=["Nickname","URL","username","password"];if(e.meta.fields.length!=4){throw (a)}for(i=0;i<4;i++){if(this.strTrim(e.meta.fields[i])!=h[i]){throw (a)}}var d=[];var c=e.data;f.each(c,function(l,k){d.push({url:k.URL,name:k.Nickname,inputs:[{type:"text",value:k.username},{type:"password",value:k.password}]})});return d},passwordDragon:function(m){var e=this.parse_param(),o=e[0],p=e[1],k=e[2];var s=m.replace(o,"").split(p),g=[];var g=[];if(s.length){for(var n=0,f=s.length;n<f;n++){var r=k(s[n]);if(r.length==6){var d=this.filterLineVar(r[3]);var c=this.filterLineVar(r[0]);var j=this.filterLineVar(r[1]);var q=this.filterLineVar(r[2]);if(d!="url"&&c!="name"&&j!="username"&&q!="password"){var h={url:d,name:c,inputs:[{type:"text",value:j},{type:"password",value:q}]};g.push(h)}}else{throw (a)}}return g}else{throw (a)}},keepass:function(g){var e=b.$;var f=this.readUTFString(g);var d=this.parseXML(f);var c=[];if(e(d).has("Entry").length>0){e(d).find("Entry").each(function(){var h=[];e(this).find("String").each(function(){var k=e(this).find("Key").text();var j=e(this).find("Value").text();if(k=="Title"&&j!=""){h.title=j}if(k=="Password"&&j!=""){h.password=j}if(k=="Password"&&j!=""){h.password=j}if(k=="URL"&&j!=""){h.url=j}if(k=="UserName"&&e(this).text()!=""){h.username=j}});if((typeof h.username!="undefined"||h.username!=null)&&(typeof h.password!="undefined"||h.password!=null)&&(typeof h.url!="undefined"||h.url!=null)){c.push({url:h.url,name:h.title,inputs:[{type:"text",value:h.username},{type:"password",value:h.password}]})}})}else{if(e(d).has("pwentry").length>0){e(d).find("pwentry").each(function(){var k=e(this).find("title").text();var j=e(this).find("url").text();var l=e(this).find("username").text();var h=e(this).find("password").text();c.push({url:j,name:k,inputs:[{type:"text",value:l},{type:"password",value:h}]})})}else{throw (a)}}return c},passsafe:function(g){var e=b.$;var f=this.readUTFString(g);var d=this.parseXML(f);var c=[];b.$(d).find("entry").each(function(){var l=b.$(this).find("title").text();var j=b.$(this).find("url").text();var m=b.$(this).find("username").text();var h=b.$(this).find("password").text();var k={url:j,name:l,inputs:[{type:"text",value:m},{type:"password",value:h}]};c.push(k)});return c},passwordAgent:function(g){var e=b.$;var f=this.readUTFString(g);var d=this.parseXML(f);var c=[];b.$(d).find("entry").each(function(){var l=b.$(this).find("name").text();var j=b.$(this).find("link").text();var m=b.$(this).find("account").text();var h=b.$(this).find("password").text();if(l!=""&&j!=""&&m!=""&&h!=""){var k={url:j,name:l,inputs:[{type:"text",value:m},{type:"password",value:h}]};c.push(k)}});return c},truekey:function(g){var f=b.$;var j=this.readUTFString(g);var e=Papa.parse(j,{header:true,skipEmptyLines:true});if(e.errors.length>0){throw a+" "+e.errors[0].message+" (row "+e.errors[0].row+")"}var h=["kind","login","password","url"];var d=f.grep(e.meta.fields,function(k){return f.inArray(k.toLowerCase().trim(),h)>=0});if(d.length<h.length){throw a}var c=[];f.each(e.data,function(m,n){if(n.kind==="login"){c.push({url:n.url,name:n.name,note:n.memo,flags:n.autologin==="false"?0:1,inputs:[{type:"text",value:n.login},{type:"password",value:n.password}]})}else{if(n.kind==="note"){c.push({type:"note",title:n.title,body:n.note,color:n.hexColor})}else{if(n.kind=="cc"){var l={"0":"Visa","1":"Mastercard","2":"American Express"};var k=new Date(n.expiryDate);c.push({type:"note",category:5,title:n.title,body:n.note,color:n.hexColor,attributes:{name:n.cardholder,number:n.number,month:!isNaN(k.getMonth())?k.getMonth()+1:null,year:!isNaN(k.getFullYear())?k.getFullYear():null,type:n.type!=null&&l[n.type]!=null?l[n.type]:null}})}}}});return c},mapping:function(d,f){var e=b.$;var c={length:0,mapped:{}};e.each(f,function(h,k){var j=typeof k=="string"?k:k.name;if(d[j]!=null){if(d[j].length>0){var g=d[j];e.each(typeof k=="object"?k.process:[],function(m,l){if(l.indexOf("split")===0&&g.indexOf(l[5])>=0){g=g.split(l[5])[parseInt(l[6])]}else{if(l=="monthText"&&g.length>0){g=new Date(Date.parse(g+" 1")).getMonth()+1}else{if(l=="int"&&g.length>0){g=parseInt(g)}}}});c.mapped[h]=g}c.length++}});return c},parseXML:function(d){try{return $.parseXML(d)}catch(c){throw a}},readUTFString:function(c){return c.slice(0,2)=="\xFE\xFF"||c.slice(0,2)=="\xFF\xFE"?this.readUTF16String(c):this.readUTF8String(c)},readUTF8String:function(f){var e=0;if(f.slice(0,3)=="\xEF\xBB\xBF"){e=3}var g="";for(;e<f.length;e++){var d=f[e].charCodeAt(0);if(d<128){g+=String.fromCharCode(d)}else{if(d>=194&&d<224){var c=f[++e].charCodeAt(0);g+=String.fromCharCode(((d&31)<<6)+(c&63))}else{if(d>=224&&d<240){var c=f[++e].charCodeAt(0);var k=f[++e].charCodeAt(0);g+=String.fromCharCode(((d&255)<<12)+((c&63)<<6)+(k&63))}else{if(d>=240&&d<245){var c=f[++e].charCodeAt(0);var k=f[++e].charCodeAt(0);var j=f[++e].charCodeAt(0);var h=((d&7)<<18)+((c&63)<<12)+((k&63)<<6)+(j&63);h-=65536;g+=String.fromCharCode((h>>10)+55296,(h&1023)+56320)}}}}}return g},readUTF16String:function(n){var e=0;var d=1,c=0;if(n.slice(0,2)=="\xFE\xFF"){bigEndian=true;e=2}else{if(n.slice(0,2)=="\xFF\xFE"){bigEndian=false;e=2}else{return""}}if(bigEndian){d=0;c=1}var g="";for(;e<n.length;e+=2){var m=n[e+d].charCodeAt(0);var l=n[e+c].charCodeAt(0);var h=(m<<8)+l;if(m<216||m>=224){g+=String.fromCharCode(h)}else{e+=2;var k=n[e+d].charCodeAt(0);var j=n[e+c].charCodeAt(0);var f=(k<<8)+j;g+=String.fromCharCode(h,f)}}return g},filtervar:function(c){c=c.replace(/^\s+|\s+$/g,"");c=c.replace(/\s+$/,"");c=c.replace(/^\s+/,"");return c},filterLineVar:function(c){c=c.replace(/^\s+|\s+$/g,"");c=c.replace(/\s+$/,"");c=c.replace(/^\s+/,"");c=c.replace(/(\n|\r|\r\n|\n\r|)/gm,"");return c},simple_splitline:function(c){return v.split(c)},quoted_splitline:function(f,e,c,d){return function(p){var o=p.split(e);for(var k=[],g,n=0,h=o.length;n<h;n++){var r=n;if(g=o[n].match(c)){g=g[0];for(var m=n;m<h;m++){if(o[m].charAt(o[m].length-1)==g){break}}var t=o.slice(n,m+1).join(f);t=t.replace(d[g],g);k.push(t.substr(1,t.length-1));n=m}else{k.push(o[n])}}return k}},parse_param:function(f,d,l){var h="undefined";f=typeof f==h?",":f;d=typeof d==h?'"':d;l=typeof l==h?"\r\n":l;var k=d?d.split(""):[],c=new RegExp("["+f+"]"),g=new RegExp("^["+d+"]");for(var j=0,m={},e;e=k[j];j++){m[e]=new RegExp(e+e,"g")}return[new RegExp("["+l+"]*$"),new RegExp("["+l+"]["+l+"]*"),d?this.quoted_splitline(f,c,g,m):this.simple_splitline(c)]},strTrim:function(c){return c.replace(/^\s+|\s+$/gm,"")}}})(typeof logmeonce==="object"?logmeonce:window);