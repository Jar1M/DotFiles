$(document).on("ui",function(d,a){if($("#ui-password-fill").length>0){return}var f=a.sites.sort(function(h,g){return h.name.toLowerCase()<g.name.toLowerCase()?-1:(h.name.toLowerCase()>g.name.toLowerCase()?1:0)});var c=$("<table cellspacing='0' cellpadding='0'>").append($.map(f,function(g){return $("<tr>").append($("<td align='center'>").append($("<div class='icon'>").append(g.icon!=null?$("<img>").attr("src",g.icon):"")),$("<td>").text(g.name),$("<td align='center'>").append($("<a class='more'>").attr("title",translate._("More")).append($("<i class='far fa-ellipsis-h'>")))).sitecontext({site:g,user:a.user,deleted:function(){$("[site="+g.id+"]",b).remove();$("[site]",b).length<=0&&b.dialog("close")},items:[{text:translate._("Fill out"),icon:"far fa-arrow-alt-down",click:function(){$(this).closest("tr").trigger("click")}},{text:translate._("View Note"),icon:"far fa-sticky-note",disabled:g.note==null,click:function(h){$(this).notesdialog({title:g.name,note:g.note},b)}}]}).attr("site",g.id).attr("title",g.name).data("site",g)})).append($("<tr>").append($("<td>"),$("<td colspan='2'>").text(translate._("Do not login")+" ")));var e=a.target;var b=$("<div id='ui-password-fill' class='select-dialog'>").append(c).dialog({title:translate._("Current Password"),show:{effect:"drop",direction:"up"},hide:{effect:"drop",direction:"up"},target:e,minHeight:0,minWidth:300,maxWidth:600,minHeight:"auto",resizable:false,draggable:true,autoOpen:false,icons:["password-generate","site-select","autofill-profile","autofill-cards"]}).on("click","a.more",function(g){g.preventDefault();g.stopPropagation();$(this).closest(".contextmenu").trigger({type:"contextmenu",position:{my:"right top",at:"right bottom",of:this}})}).on("click","tr",function(){var g=$(this).data("site");g!=null&&$.ui.logmeonce.message({ui:"target",target:e.ui,name:"fill",args:{id:g.id}});$(b).dialog("close")});$(b).dialog("widget").css("visibility","hidden");$(b).dialog("open");$(b).dialog("widget").css("visibility","visible")});