$.ajaxPrefilter("script",function(a,c,b){a.cache=true});$(document).on("extension",function(b){var a=b.logmeonce.window(document);a.logmeonce=b.logmeonce;a.translate=b.logmeonce.translate;$("#identity").login();$("a.recovery").attr("href",logmeonce.server+"recovery");$("input[name=username]").attr("placeholder",translate._("Enter Email"));$("input[name=password]").attr("placeholder",translate._("Enter Password")).capslockstate();$("input[name=phone]").attr("placeholder",translate._("Enter Phone Number"));$(".captcha .ui-icon-refresh").attr("title",translate._("Refresh"));if(logmeonce.config.brand.logo!=null){$("#logo").replaceWith($("<div class='logo brand'>").append($("<div class='wrap'>").append($("<img>").attr("src",logmeonce.config.brand.logo).on("error",function(){logmeonce.domain(logmeonce.config.brand.domain,"brand")})),$("<div class='powered'>")))}else{$("#logo").html($("#logo").text().replace(/(?:^|(?:[.!?]\s))(\w+)/,"<span>$&</span>"))}$(".translate").each(function(d,c){if(c.tagName=="INPUT"){$(c).val(translate._($(c).val()))}else{$(c).text(translate._($(c).text()))}});logmeonce.config.get("user").then(function(i){if(i!=null&&i.length>0){i=i.split(",");var h=i[0];var g=i.length>1&&$("#login-list button."+i[1]).length>0?i[1]:"password";var d=i.length>2&&i[2].length>0?i[2]:null;var f=i.length>3&&i[3].length>0?i[3]:"username";var c=$("#identity").addClass("visible");if(d!=null){try{var k=new Image();k.onload=function(){$(".avatar",c).empty().append(k)};k.src=d}catch(j){}}$("input[name=username]").val(h);$(".identity span",c).text(h);$(".login-list button."+g,c).trigger("click");$("input[name=password]").focus()}else{$("#verify").addClass("visible");$("#identity .login-list button.password").trigger("click")}});if(a!=a.parent){a.parent.postMessage(JSON.stringify({window:"open"}),"*");$(".login-top").empty()}}).on("click","a[href]",function(a){if(window!=window.parent){a.preventDefault();logmeonce.urlGoto($(this).attr("href"),{newtab:$(this).attr("target")=="_blank"})}});$(function(){if(typeof chrome!=="undefined"&&chrome.extension!=null&&chrome.extension.getBackgroundPage!=null){$(document).trigger({type:"extension",logmeonce:chrome.extension.getBackgroundPage().logmeonce.extension(window,chrome)})}else{var b=typeof safari!=="undefined"&&safari.extension!=null?"safari":"chrome";var a=["/components/jquery-1.8.3.min.js","/components/sjcl.js","/content/logmeonce.js","/content/translate.js","/content/tools.js","/content/"+b+"_contentscript.js"];$.each(a,function(f,c){var e=document.getElementsByTagName("head")[0];var d=document.createElement("script");d.src=".."+c;d.async=false;d.setAttribute("format","text/javascript");$("script[src$='"+c+"']").length<=0&&e.appendChild(d)})}});(function(a){a.fn.login=function(){var c=a(this);var b=a(".identity > span",this);b.data("identity",b.text());var h=a(this).siblings(".verify",this).on("submit",function(j){j.preventDefault();var k=a("input[name=username]",this);if(k.val().length<=0){a.alert(translate._("Enter Email"));return}h.hide("drop",function(){var l=a(".login-list",c);var n=a(".avatar",c);var m=a(".identity",c);if(k.val()===m.data("identity")){if(n.is(":empty")&&n.data("img")!=null){n.data("img").appendTo(n);n.removeData("img")}}else{if(!n.is(":empty")){n.data("img",a("img",n).remove())}}a("input[name=username]",c).val(k.val());a("span",m).text(k.val());a("button.login").removeClass("hidden");if(a("button.active",l).length<=0){a("button:not(.hidden)",l).last().trigger("click")}else{a(".login-body."+a("button.active",l).val()).trigger("init").addClass("active")}c.show("drop",{direction:"right"},function(){a("input[name=password]",this).focus()})})});a("a.cancel",this).click(function(){i.abort()});function i(k){var j=i.deferred=a.Deferred();j.original=k;k.then(function(){j.resolve.apply(this,arguments)},function(){j.reject.apply(this,arguments)},function(){j.notify.apply(this,arguments)});return j.promise()}i.abort=function(){var j=this.deferred||a.Deferred();if(j.original!=null&&j.original.abort!=null){j.original.abort()}else{j.reject({aborted:true})}};function f(){a(".g-recaptcha").each(function(k,j){a(j).addClass("rendered").data("widget",grecaptcha.render(j,{sitekey:a(j).data("sitekey")}))})}function d(o,m){var l=a(".g-recaptcha",this).toggle(m!=null&&m.captcha!=null);if(m!=null&&m.captcha!=null){if(l.is(":not(.rendered)")){l.data("sitekey",m.captcha);logmeonce.injectScript(document,{src:"https://www.google.com/recaptcha/api.js?onload=onrecaptcha&render=explicit"})}else{grecaptcha.reset(l.data("widget"))}}if(m!=null&&m.type=="denied"&&m.factors!=null){var k=a(".login-list");a("button.login",k).filter(function(){a(this).toggleClass("hidden",a.inArray(a(this).val(),m.factors)<0);if(a(this).is(".hidden")&&a(this).is(".active")){a(this).removeClass("active");a(".login-body#login-"+a(this).val()).removeClass("active");return true}}).length>0&&a("button.login:not(.hidden):last",k).trigger("click");k.toggleClass("hidden",m.factors.length<=1);a("#login-denied").toggleClass("active",m.factors.length<=0)}else{a(".login-list").addClass("hidden");a("#login-denied").removeClass("active")}if(o!=null&&o.length>0&&!(o=="error"||o=="parsererror")){if(m!=null&&m.domains!=null&&m.domains.length==1){return a.confirm(m.message+" "+translate.sprintf("Do you want to login with a business account at %s?",m.domains[0])).then(function(){window.location.href="https://"+m.domains[0]})}else{if(m!=null&&m.type=="locked"){return a.confirm(m.message+"\nWould you like to unlock your account?").then(function(){window.location.href=logmeonce.server+"recovery/unlock?username="+encodeURIComponent(username)})}else{var n={text:o};if(m!=null&&m.code==407){n.learnMore=[{text:"iPhone/iPad",url:"https://support.logmeonce.com/hc/en-us/articles/1500005516861-Getting-started-with-LogMeOnce-for-iPhone-iPad-iOS-"},{text:"Android",url:"https://support.logmeonce.com/hc/en-us/articles/1500005685861-Getting-started-with-LogMeOnce-for-Android"}]}if(m!=null&&m.code==408){n.learnMore="https://support.logmeonce.com/hc/en-us/articles/360038123213-I-am-not-getting-login-push-notifications-on-my-smartphone-iOS-and-Android"}return a.alert(n).then(function(){if(m!=null&&m.changepassword!=null){window.location=m.changepassword}})}}}var j=a.Deferred();setTimeout(j.resolve,0);return j.promise()}function g(k){var j=a(".login-body.active input[name=password]");logmeonce.loadUser(document,a.extend({password:j.length>0?j.val():null},k)).then(function(){if(window!=window.parent){window.parent.postMessage(JSON.stringify({window:"close"}),"*")}},function(l){if(l!=null&&l.exception!=null){a.alert(l.exception.message)}a("button.login i").removeClass().addClass("fa fa-times color-error");a("button.login, input.credentials").prop("disabled",false)})}function e(m){if(m!=null&&m.tfa!=null){var p=null;var n=false;var o=false;var j=a("#wrapper").hide();var q=a("<div>").css({position:"absolute",top:"45%",width:"100%",textAlign:"center"}).append(a("<div>").append(a("<i class='fa fa-spinner fa-spin fa-3x'>")),a("<div>").text(translate._("TFA")+". "+translate._("Please Wait")+"...")).appendTo(document.body);var l=a("<iframe frameBorder='0' src='"+logmeonce.server+"login.php?layout=login_blank&iframe=true' type='content'></iframe>",document).css({background:"white",border:0,width:"100%",height:"100%",visibility:"hidden"}).bind("readystatechange",function(s){n=true;if(this.readyState=="complete"&&!o){p=setTimeout(function(){k(false)},1000)}else{if(p!=null){clearTimeout(p);p=null}}}).load(function(){if(!n){logmeonce.browser.type=="mozilla"&&this.contentWindow.addEventListener("tfa",function(s){r(s.detail)},false,true);if(!o){p=setTimeout(function(){k(false)},1000)}}}).appendTo(document.body);function k(s){window.removeEventListener("message",r,false);j.show();q.remove();l.remove();if(s){g(m)}else{a("button.login i").removeClass().addClass("fa fa-check color-success");a("button.login, input.credentials").prop("disabled",false)}}function r(s){switch(s.tfa){case"completed":if(p!=null){clearTimeout(p);p=null}k(true);break;case"load":o=true;if(p!=null){clearTimeout(p);p=null}if(s.visibility==null||s.visibility=="visible"){q.css({display:"none"});l.css({visibility:"visible"})}break;case"unload":o=false;q.css({display:"block"});l.css({visibility:"hidden"});break}}window.addEventListener("message",function(t){try{var s=JSON.parse(t.data);if(logmeonce.server.indexOf(t.origin)===0&&s.session===false){logmeonce.urlGoto(logmeonce.server)}if(logmeonce.server.indexOf(t.origin)===0&&s.tfa!=null){r(s)}}catch(t){}},false,true)}else{g(m)}}setTimeout(function(j){a(".login-body.active",j).trigger("init")},0,this);return a(this).on("click",".login-identity .back",function(){c.hide("drop",{direction:"right"},function(){h.show("drop")})}).on("click",".login-list button",function(j){j.preventDefault();if(!a(this).hasClass("active")){a(".login-body.active a.cancel").triggerHandler("click");a(".login-body.active, .login-list button.active").removeClass("active");a(".login-body."+a(this).val()).trigger("init").addClass("active");a(this).addClass("active")}}).on("keyup","input[name=username], input[name=password]",function(){a(this).closest(".login-content").children(".mugshot-notice").addClass("visible")}).on("submit",".login-body",function(){a(this).closest(".login-content").children(".mugshot-notice").removeClass("visible")}).on("init","#login-qr",function(n){n.preventDefault();var o=n.username!=null?n.username:a("input[name=username]",this).val();if(a(this).data("loaded")==o){return}var k=a(this).data("loaded",o);var l=a("form",this);var o=a("input[name=username]",this).val();m();function m(){return logmeonce.login(document,{authenticate:"qr",data:{username:o},wait:5000}).then(function(p){a("#qr-canvas",k).append(a("<span>").append(a("<i class='fa fa-check color-success'>")));e(p)},function(q,p){if(p!=null&&p.code!=408){d.call(l,p.message,p);a("#qr-canvas").empty().append(a("<span>").text(p.message))}else{if(k.is(":visible")){m()}else{k.data("loaded",false)}}},j)}function j(r){var p=a("#qr-canvas",k).empty().get(0);var q=new QRCodeStyling({width:250,height:250,data:"lmo-login://"+a.grep([r.challenge,r.secret],function(s){return s!=null}).join("/"),margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:true,imageSize:0.4,margin:0},dotsOptions:{type:"rounded",color:"#000000",gradient:null},backgroundOptions:{color:"#ffffff",gradient:null},image:"data:image/png;base64,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",dotsOptionsHelper:{colorType:{single:true,gradient:false},gradient:{linear:true,radial:false,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#f57f24"},cornersSquareOptionsHelper:{colorType:{single:true,gradient:false},gradient:{linear:true,radial:false,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"",color:"#f57f24",gradient:null},cornersDotOptionsHelper:{colorType:{single:true,gradient:false},gradient:{linear:true,radial:false,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:true,gradient:false},gradient:{linear:true,radial:false,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});q.append(p);return q}}).on("submit","#login-push",function(o){o.preventDefault();var j=a(this);var q=a(".captcha input[name=captcha]",this);var r=a(".g-recaptcha-response",this);var l=a("input[name=username]",this);var p=a("#login-list button.active");var n=a("input[name=mobileconnect]",this);var m=a("button.login",this);var k=a("button.login",this).prop("disabled",true);a("span",m).text(translate._("Sending")+"...");a("i",m).removeClass().addClass("fa fa-spinner fa-spin");a(".login-tools",j).addClass("logging");var s=i(logmeonce.ajax({url:logmeonce.server+"rest/push/login",type:"POST",data:a.extend({authentication:p.val(),username:l.val()},r.length>0?{"g-recaptcha-response":r.val()}:{}),dataType:"logmeonce-binary"})).then(function(t){return i(logmeonce.push(document,a.extend({authentication:p.val(),username:l.val(),device:t},n.length>0?{mobileconnect:n.val()}:{})))},function(v,u,t){return{text:u,exception:t.exception,xhr:v}}).then(function(t){a("span",m).text(translate._("Approved"));a("i",m).removeClass().addClass("fa fa-check color-success");e(t)},function(t){a("i",m).removeClass().addClass("fa fa-times color-error");d.call(j,t.text,t.exception).always(function(){a(".login-tools",j).removeClass("logging");a("span",m).text(translate._("Login"));a("i",m).removeClass().addClass("far fa-lock");k.prop("disabled",false)})},function(t){var u=translate._("Waiting")+"...";if(a("#login-list button.push-login").is(".active")){u+=" "+translate._("Visual OTP")+": "+logmeonce.tools.hotp({codec:"utf8String",key:t.challenge},1)}a("span",m).text(u)})}).on("submit","#login-password",function(p){p.preventDefault();var j=this;var m=a("input[name=username]",this).val();var s=a("input[name=password]",this).val();var r=a(".g-recaptcha-response",this);var o=a("input[name=mobileconnect]",this);var k,l;function q(t){a("button.login i",j).removeClass().addClass("fa fa-check color-success");e(t)}function n(x,w){if(w!=null&&w.offline!=null){var t=new Date().getTime()/1000;var v=logmeonce.translate.duration(t-w.offline.info.lastModifiedDate,1);var u=translate.sprintf(translate._("Offline mode data is %s old. Continue in offline mode?"),v);a.confirm(u).then(function(){g(w)},function(){a("button.login i",j).removeClass().addClass("far fa-lock");a("button.login, input.credentials",j).prop("disabled",false)})}else{if(w!=null&&w.iterations!=null&&w.iterations!=k){logmeonce.log("Changing password iterations for "+m+" from "+k+" to "+w.iterations);logmeonce.config.set(logmeonce.tools.hash("md5",m)+".iterations",k=w.iterations);l.iterations=k;l.password=s.length>0?(k==null||k<=0?s:logmeonce.tools.hash("pbkdf2",s,{iterations:k,salt:m})):"";logmeonce.login(document,{data:l,password:s}).then(q,d);return}else{d.call(j,x,w).always(function(){a("button.login i",j).removeClass().addClass("far fa-lock");a("button.login, input.credentials",j).prop("disabled",false)})}}a("button.login i",j).removeClass().addClass("fa fa-times color-error")}a("button.login i",j).removeClass().addClass("fa fa-spinner fa-spin");a("button.login, input.credentials",j).prop("disabled",true);if(m.length<=0){return n(translate._("Enter Email"))}if(s.length<=0){return n(translate._("Enter Password"))}setTimeout(function(){logmeonce.config.get(logmeonce.tools.hash("md5",m)+".iterations").then(function(t){k=t!=null?t:10000;l=a.extend({username:m,password:s.length>0?(k==null||k<=0?s:logmeonce.tools.hash("pbkdf2",s,{iterations:k,salt:m})):"",iterations:k},r.length>0?{"g-recaptcha-response":r.val()}:{},o.length>0?{mobileconnect:o.val()}:{});logmeonce.login(document,{data:l,password:s}).then(q,n)})},10)}).on("submit","#login-mobileconnect",function(q){q.preventDefault();var o=this;var k=a("input[name=phone]",this);var m=a(".captcha input[name=captcha]",this);var p=a(".g-recaptcha-response",this);if(k.val().length<=0){return a.alert(translate._("Enter Phone Number"))}a("button.login, input.credentials",o).prop("disabled",true);logmeonce.login(document,{authenticate:"mobileconnect",data:a.extend({phone:k.val()},m.is(":visible")?{captcha:m.val()}:{},p.length>0?{"g-recaptcha-response":p.val()}:{})}).then(j,l);function n(s){try{var r=JSON.parse(s.data);if(logmeonce.server.indexOf(s.origin)===0&&r.error!=null){window.removeEventListener("message",n,false);a("button.login span",o).text(translate._("Login"));a("#mc-authorization").remove();setTimeout(l,100,r.error)}else{if(logmeonce.server.indexOf(s.origin)===0&&r.code!=null&&r.code!=null){window.removeEventListener("message",n,false);a("button.login span",o).text(translate._("Verifying")+"...");a("#mc-authorization").remove();logmeonce.login(document,{authenticate:"mobileconnect",data:r}).then(j,l)}}}catch(s){}}function j(u){if(u!=null&&u.redirectUrl!=null){window.addEventListener("message",n,false,true);a("<iframe id='mc-authorization' frameBorder='0' type='content'>",document).attr("src",u.redirectUrl).css({background:"white",border:0,position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",zIndex:1002,display:u.visibility==null||u.visibility=="visible"?"block":"none"}).load(function(){/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&this.contentWindow.addEventListener("lmomc",function(v){n({origin:this.window.location.origin,data:JSON.stringify(v.detail)})},false,true)}).appendTo(document.body);a("button.login span",o).text(translate._("Waiting for operator")+"...");return}if(u!=null&&u.pair!=null){var r=a("#wrapper .login-container");var s=a("div.login",r);var t=a("div.mobileconnect",r).on("click","button",function(){a("button.login, input.credentials",o).prop("disabled",false);a("#login-list button.mobileconnect").remove();a("#login-list button.login:last").trigger("click");a("form",s).each(function(){a("<input type='hidden' name='mobileconnect'>").val(u.pair).appendTo(this)});t.hide("fade",function(){s.show()})});r.css({width:s.outerWidth()});s.hide("fade",function(){a(t).prepend(a.map(translate._("Mobile connect %s is not paired").split("\n"),function(v){return a("<div>").text(v.replace("%s",k.val()))}));t.show("fade")});return}e(u)}function l(s,r){if(s!=null&&s.length>0&&!(s=="error"||s=="parsererror")){a("button.login i").removeClass().addClass("fa fa-times color-error");a.alert(s.lastIndexOf(".")<s.length-1?s+".":s);r!=null&&exception.call(o,r)}a("button.login span",o).text(translate._("Login"));a("button.login i").removeClass().addClass("fa fa-times color-error");a("button.login, input.credentials",o).prop("disabled",false)}})}})(jQuery);